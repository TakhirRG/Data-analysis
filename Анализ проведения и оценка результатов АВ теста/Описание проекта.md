<div style="border:solid green 2px; padding: 40px">
    
# Анализ качества проведения и результатов  А/B-теста    
    
## Задача: провести оценку результатов A/B-теста.
    
- **Проанализировать результаты теста**
- **Оценить корректность проведения теста**
    
    - пересечение тестовой аудитории с конкурирующим тестом;
    - совпадение теста и маркетинговых событий, 
    - другие проблемы временных границ теста. 
    
    
**Данные:** датасет с действиями пользователей, техническое задание и несколько вспомогательных датасетов
    
1. /datasets/ab_project_marketing_events.csv — календарь маркетинговых событий на 2020 год;
    
2. /datasets/final_ab_new_users.csv — все пользователи, зарегистрировавшиеся в интернет-магазине в период с 7 по 21 декабря 2020 года;
    
3. /datasets/final_ab_events.csv — все события новых пользователей в период с 7 декабря 2020 по 4 января 2021 года;
    
4. /datasets/final_ab_participants.csv — таблица участников тестов.
  
  <div style="border:solid black 2px; padding: 40px"> 
    
    
## Техническое задание
### Название теста: recommender_system_test;
    
**Группы:**
- А (контрольная),
- B (новая платёжная воронка);
    
**Дата запуска:** 2020-12-07;
    
**Дата остановки набора новых пользователей:** 2020-12-21;
    
**Дата остановки:** 2021-01-04;
    
**Аудитория:** 15% новых пользователей из региона EU;
    
**Назначение теста:** тестирование изменений, связанных с внедрением улучшенной рекомендательной системы;
    
**Ожидаемое количество участников теста:** 6000.
    
**Ожидаемый эффект:** за 14 дней с момента регистрации в системе пользователи покажут улучшение каждой метрики не менее, чем на 10%:
- конверсии в просмотр карточек товаров — событие product_page
- просмотры корзины — product_cart
- покупки — purchase.
   
<div style="border:solid black 2px; padding: 10px"> 

# Заключение и ответы на вопросы исследования
    
### Требуется ли преобразование типов?
    
- да, потребовалось преобразовать преобразовать даты в формат datetime

### Присутствуют ли пропущенные значения и дубликаты? Если да, то какова их природа?
    
- в данных присутвовали дубликаты. Они связана с тем, что часть пользователей участвовала сразу в двух тестированиях
    
### Оцените корректность проведения теста.
 
- данные не полностью соответствуют техническому заданию:
    - по доле привлечённых пользователей из EU 15%: привлечен больший процент по сравнению с планом
    - по таблице events нет данных за январь
    - тест частично накладывывается с маркетинговой акцией
    - часть пользователей участвуют еще в одном тесте
    - пользователи неравномерно распределены по группам: А существенно больше, чем В
    
### Количество событий на пользователя в выборках
    
- Среднее количество событий на одного пользователя группе А 7.65
- Среднее количество событий на одного пользователя группе B 6.32
    

### Как число событий в выборках распределено по дням
    
- динамика количества событий в обеих группах примерно одинаковая
- в обеих группах после с 13 декабря начинается рост числа событий до 21 декабря и затем резкое снижение
    
    
### Как меняется конверсия в воронке в выборках на разных этапах
    
- конверсия из регистрации в карточку продукта самая высокая
- конверсия из регистрации в просмотр карзины снижается
- конверсия из регистрации в покупку немного вырастает
    

### Какие особенности данных нужно учесть, прежде чем приступать к A/B-тестированию?
 
- четкие цели, метрики и гипотезы
- сроки проведения 
- в этот период не проходят маркетиноговые активности, которые потенциально могут оказать большее влияние на одну из груп
- проверяем репрезентативность выборки в целом и однородность выборок в группах.
- участники тестирования не должны в это время участвовать в другом тестировании
- размеры выборки  и длительность эксперимента должны быть рассчитаны с учётом прогонозируемого изменения метрики для достижения достоверности Достоверность — процент уверенности в том, что результаты теста верны, если он показал разницу.
    
### Проведите оценку результатов A/B-тестирования,проверьте статистическую разницу долей z-критерием:
    
    
    
**На очищенных данных получили следущие результаты:**
    
С учетом поправки  Бонферони на множественне сравнение
    
- Конверсия из регистрации в **product_page**  в группе А: 0.65, в группе В: 0.56 p-значение по z-критерию: 0.000
  - Отвергаем нулевую гипотезу, между выборками есть статистически значимые различия
    
- Конверсия из регистрации в **product_cart** в группе А:  0.3  в группе В:  0.28 p-значение по z-критерию:  0.2216
   - Не получилось отвергнуть нулевую гипотезу, статистически значимых различий в выборках нет
    
- Конверсия из регистрации в **purchase** в группе А:  0.32  в группе В:  0.28 p-значение по z-критерию:  0.0486
  - Не получилось отвергнуть нулевую гипотезу, статистически значимых различий в выборках нет    

### Что можно сказать про результаты A/B-тестирования
    
Результаты тестирования не подтвердили гипотезу о том, что за 14 дней с момента регистрации в системе пользователи покажут улучшение каждой метрики не менее, чем на 10%:
    
- ни по одной из метрик не был достигнут планируемый рост конверсии в 10%
- как на очищенных, так и на неочищенных данных в группе В показатели конверсии ухудшились по сравнению с контрольной группой
- при этом снижение было статистически значимо только по конверсии в product_page 

### Общее заключение о корректности проведения теста
    
**При проведении теста было допущено несколько нарушений, которые потенциально могли исказить результаты:**
    
- часть пользователей одновременно участвовало в другом тестировании
- время теста частично наложилось с макетинговой акций
- количество пользователей в группах существенно различаются
- срок проведения тестирования не соблюден: в отчете нет данных за 4 дня в январе
- набор пользователей в группы был не одинаковым и не пропорциональным
 
